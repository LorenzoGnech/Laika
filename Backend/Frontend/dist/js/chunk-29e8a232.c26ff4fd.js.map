{"version":3,"sources":["webpack:///./src/views/Profile.vue?cefb","webpack:///./src/views/Profile.vue?d01e","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?d6e3","webpack:///./src/views/Profile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","staticClass","$store","getters","getAvatar","_v","_s","getUsername","ref","computedNews","getCardsHeight","getCardsWidth","computedMissions","on","handleLogout","_m","staticRenderFns","staticStyle","components","CardGrid","NavMenu","data","avatar","cSavedNews","savedNews","followedMissions","cFollowedMissions","props","getSavedNews","getFollowedMissions","computed","forEach","item","index","t","id","header","title","date","content","slice","fullContent","img","source","tags","push","window","innerHeight","innerWidth","methods","a","get","then","response","commit","$router","component"],"mappings":"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","file":"js/chunk-29e8a232.c26ff4fd.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=0b43e466&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"profile-wrapper\"}},[_c('div',{directives:[{name:\"sticky\",rawName:\"v-sticky\",value:(true),expression:\"true\"}],staticClass:\"sticky\",attrs:{\"sticky-offset\":\"{top: 0, right: 0}\",\"sticky-side\":\"both\",\"on-stick\":\"onStick\",\"sticky-z-index\":\"20\"}},[_c('NavMenu')],1),(this.$store.getters.isLoggedIn)?_c('div',[_c('div',{staticClass:\"personal-info\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.getAvatar}}),_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(this.$store.getters.getUsername))])]),_c('div',{ref:\"latestnews\",staticClass:\"container\",attrs:{\"id\":\"latestnews\"}},[_c('h2',{staticClass:\"containertitle\"},[_vm._v(\"SAVED NEWS\")]),_c('CardGrid',{attrs:{\"cards\":_vm.computedNews,\"cardsHeight\":_vm.getCardsHeight,\"cardsWidth\":_vm.getCardsWidth,\"type\":\"news\"}})],1),_c('div',{ref:\"latestnews\",staticClass:\"container\",attrs:{\"id\":\"latestnews\"}},[_c('h2',{staticClass:\"containertitle\"},[_vm._v(\"FOLLOWED MISSIONS\")]),_c('CardGrid',{attrs:{\"cards\":_vm.computedMissions,\"cardsHeight\":_vm.getCardsHeight,\"cardsWidth\":_vm.getCardsWidth,\"type\":\"mission\"}})],1),_c('div',{staticClass:\"container\"},[_c('a',{attrs:{\"id\":\"api-button\"},on:{\"click\":_vm.handleLogout}},[_vm._v(\"LOGOUT\")])])]):_c('div',[_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h2',{staticClass:\"containertitle\",staticStyle:{\"margin\":\"15px\"}},[_vm._v(\"You are not logged in.\")]),_c('a',{attrs:{\"href\":\"/#/Signin/\",\"id\":\"api-button\"}},[_vm._v(\"Go to Login page\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"profile-wrapper\">\r\n    <div class=\"sticky\" v-sticky=\"true\" sticky-offset=\"{top: 0, right: 0}\" sticky-side=\"both\" on-stick=\"onStick\" sticky-z-index=\"20\">\r\n        <NavMenu/>\r\n    </div>\r\n    <div v-if=\"this.$store.getters.isLoggedIn\">\r\n        <div class=\"personal-info\">\r\n            <img class=\"avatar\" :src=getAvatar />\r\n            <h1 class=\"name\">{{this.$store.getters.getUsername}}</h1>\r\n        </div>\r\n        <div class=\"container\" id=\"latestnews\" ref=\"latestnews\">\r\n        <h2 class=\"containertitle\">SAVED NEWS</h2>\r\n        <CardGrid :cards=computedNews :cardsHeight=\"getCardsHeight\" :cardsWidth=\"getCardsWidth\" type=\"news\"/>\r\n        </div>\r\n        <div class=\"container\" id=\"latestnews\" ref=\"latestnews\">\r\n        <h2 class=\"containertitle\">FOLLOWED MISSIONS</h2>\r\n        <CardGrid :cards=computedMissions :cardsHeight=\"getCardsHeight\" :cardsWidth=\"getCardsWidth\" type=\"mission\"/>\r\n        </div>\r\n        <div class=\"container\">\r\n        <a @click=handleLogout id=\"api-button\">LOGOUT</a>\r\n        </div>\r\n    </div>\r\n    <div v-else>\r\n        <div class=\"container\">\r\n            <h2 class=\"containertitle\" style=\"margin: 15px;\">You are not logged in.</h2>\r\n            <a href=\"/#/Signin/\" id=\"api-button\">Go to Login page</a>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport CardGrid from '../components/CardGrid.vue'\r\nimport NavMenu from '../components/NavMenu.vue'\r\n\r\nexport default {\r\n    name: 'Profile',\r\n    components: {\r\n        CardGrid,\r\n        NavMenu\r\n    },\r\n    data: function(){\r\n        return{\r\n            avatar: \"\",\r\n            cSavedNews: [],\r\n            savedNews: [],\r\n            followedMissions: [],\r\n            cFollowedMissions: [],\r\n        }\r\n    },\r\n    props: {\r\n    },\r\n    mounted(){\r\n        /*\r\n        if(!this.$store.getters.isLoggedIn){\r\n            console.log(\"cicc\");\r\n            this.$router.push(\"/\");\r\n        } else{   \r\n            this.getSavedNews();\r\n            this.getFollowedMissions();\r\n        }\r\n        */\r\n        this.getSavedNews();\r\n        this.getFollowedMissions();\r\n    },\r\n    computed: {\r\n        computedNews(){\r\n            this.savedNews.forEach( (item, index) => {\r\n                var t = {\r\n                id: item.id,\r\n                header: item.title,\r\n                date: item.date,\r\n                content: item.content.slice(0, 100) + \"...\",\r\n                fullContent: item.content,\r\n                img: item.img,\r\n                source: item.source,\r\n                tags: item.tags,\r\n                };\r\n            this.cSavedNews.push(t);\r\n            });\r\n            return this.cSavedNews;\r\n        },\r\n        computedMissions(){\r\n            this.followedMissions.forEach( (item, index) => {\r\n                var t = {\r\n                id: item.id,\r\n                header: item.title,\r\n                date: item.date,\r\n                content: item.content.slice(0, 100) + \"...\",\r\n                fullContent: item.content,\r\n                img: item.img,\r\n                source: item.source,\r\n                tags: item.tags,\r\n                };\r\n            this.cFollowedMissions.push(t)\r\n            });\r\n            return this.cFollowedMissions;\r\n        },\r\n        getAvatar(){\r\n            if(this.avatar == \"\"){\r\n                return \"https://www.teatro.it/old/2016-11/nobody_m.original.jpg\"\r\n            } else{\r\n                return this.avatar;\r\n            }\r\n        },\r\n        getCardsHeight(){\r\n            return window.innerHeight/2.1;\r\n        },\r\n        getCardsWidth(){\r\n            return window.innerWidth/6.4;\r\n        }\r\n        },\r\n    methods: {\r\n        async getSavedNews(){\r\n        axios\r\n            .get('https://laikapp.herokuapp.com/api/v1/news/')\r\n            .then(response => (this.savedNews = response.data));\r\n        },\r\n        async getFollowedMissions(){\r\n        axios\r\n            .get('https://laikapp.herokuapp.com/api/v1/missions/')\r\n            .then(response => (this.followedMissions = response.data));\r\n        },\r\n        handleLogout(){\r\n            this.$store.commit(\"_Logout\");\r\n            this.$router.push(\"/\");\r\n        },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.personal-info{\r\n    padding-top: 10vh;\r\n    padding-bottom: 5vh;\r\n    width: 60%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n}\r\n\r\n.avatar{\r\n    margin: 0 auto;\r\n    height: 17vw;\r\n    border-radius: 2vw;\r\n}\r\n\r\n.name{\r\n    color: white;\r\n    font-size: 3vw;\r\n    margin: 0 auto;\r\n    line-height: 17vw;\r\n}\r\n\r\n#api-button{\r\n    cursor: pointer;\r\n    background-color: #d33737;\r\n\tborder-bottom: 5px solid #ff0303;\r\n\ttext-shadow: 0px -2px #ff0303;\r\n}\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=0b43e466&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=0b43e466&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b43e466\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}